<div class="container-fluid">
  <div class="row d-flex align-items-center">
    <div class="col-md-12">
      <div class="row d-flex justify-content-center">
        <form [formGroup]="form" class="col-11">

          <div class="col-12 shadow-lg p-3 mt-4 mb-4 bg-body rounded cardLogin">
            <h4 class="mb-3">Cadastro</h4>

            <div class="row">
              <div class="form-group col-md-4">
                <label for="razaoSocial" class="mb-1 mt-3">Razão Social*</label>
                <input formControlName="razaoSocial" class="form-control" type="text" id="razaoSocial"
                  placeholder="Ex: Empresa LTDA">
                <small class="form-text text-danger"
                  *ngIf="form.get('razaoSocial')?.invalid && (form.get('razaoSocial')?.dirty || form.get('razaoSocial')?.touched)">Campo
                  obrigatório!</small>
              </div>

              <div class="form-group col-md-4">
                <label for="nomeFantasia" class="mb-1 mt-3">Nome Fantasia*</label>
                <input formControlName="nomeFantasia" class="form-control" type="text" id="nomeFantasia"
                  placeholder="Ex: Empresa">
                <small class="form-text text-danger"
                  *ngIf="form.get('nomeFantasia')?.invalid && (form.get('nomeFantasia')?.dirty || form.get('nomeFantasia')?.touched)">Campo
                  obrigatório!</small>
              </div>

              <div class="form-group col-md-4">
                <label for="cnpj" class="mb-1 mt-3">CNPJ*</label>
                <input formControlName="cnpj" class="form-control" type="text" mask="00.000.000/0000-00" id="cnpj"
                  placeholder="Ex: 12.345.678/0001-99">
                <small class="form-text text-danger"
                  *ngIf="form.get('cnpj')?.invalid && (form.get('cnpj')?.dirty || form.get('cnpj')?.touched)">Campo
                  obrigatório!</small>
              </div>
            </div>

            <div class="row">
              <div class="form-group col-md-4">
                <label for="inscricaoEstadual" class="mb-1 mt-3">Inscrição Estadual</label>
                <input formControlName="inscricaoEstadual" class="form-control" type="text" mask="000.000.000.000"
                  id="inscricaoEstadual" placeholder="123.456.789.112">
                <small class="form-text text-danger"
                  *ngIf="form.get('inscricaoEstadual')?.invalid && (form.get('inscricaoEstadual')?.dirty || form.get('inscricaoEstadual')?.touched)">Campo
                  obrigatório!</small>
              </div>

              <div class="form-group col-md-4">
                <label for="inscricaoCcm" class="mb-1 mt-3">Inscrição CCM</label>
                <input formControlName="inscricaoCcm" mask="00000000-0" class="form-control" type="text"
                  id="inscricaoCcm" placeholder="12345678-9">
                <small class="form-text text-danger"
                  *ngIf="form.get('inscricaoCcm')?.invalid && (form.get('inscricaoCcm')?.dirty || form.get('inscricaoCcm')?.touched)">Campo
                  obrigatório!</small>
              </div>

              <div class="form-group col-md-4">
                <label for="codigoContabil" class="mb-1 mt-3">Código Contábil</label>
                <input formControlName="codigoContabil" mask="0000" class="form-control" type="text" id="codigoContabil"
                  placeholder="1234">
                <small class="form-text text-danger"
                  *ngIf="form.get('codigoContabil')?.invalid && (form.get('codigoContabil')?.dirty || form.get('codigoContabil')?.touched)">Campo
                  obrigatório!</small>
              </div>
            </div>

            <div class="row">
              <div class="form-group col-md-4">
                <label for="email" class="mb-1 mt-3">E-mail*</label>
                <input formControlName="email" class="form-control" type="email" id="email"
                  placeholder="Ex: exemplo@dominio.com">
                <small class="form-text text-danger"
                  *ngIf="form.get('email')?.invalid && (form.get('email')?.dirty || form.get('email')?.touched)">Campo
                  obrigatório!</small>
              </div>

              <div class="form-group col-md-4">
                <label for="senha" class="mb-1 mt-3">Senha*</label>
                <input formControlName="senha" class="form-control" type="password" id="senha"
                  placeholder="Digite sua senha">
                <small class="form-text text-danger"
                  *ngIf="form.get('senha')?.invalid && (form.get('senha')?.dirty || form.get('senha')?.touched)">Campo
                  obrigatório!</small>
              </div>

              <div class="form-group col-md-4">
                <label for="confirmeSenha" class="mb-1 mt-3">Confirmar Senha*</label>
                <input formControlName="confirmeSenha" class="form-control" type="password" id="confirmeSenha"
                  placeholder="Digite sua senha">
                <small class="form-text text-danger"
                  *ngIf="form.get('confirmeSenha')?.invalid && (form.get('confirmeSenha')?.dirty || form.get('confirmeSenha')?.touched)">Campo
                  obrigatório!</small>
              </div>
            </div>
          </div>

          <div class="col-12 shadow-lg p-3 mt-4 mb-4 bg-body rounded cardLogin">
            <h4 class="mb-3">Endereço de Entrega</h4>
            <div formGroupName="enderecoEntrega" class="col-md-12">
              <div class="row">
                <div class="form-group col-md-4">
                  <label for="cepEntrega">CEP*</label>
                  <input formControlName="cep" (input)="buscarCepEntrega($event)" mask="00000-000" class="form-control"
                    id="cepEntrega" placeholder="CEP">
                  <small class="form-text text-danger"
                    *ngIf="form.get('cep')?.invalid && (form.get('cep')?.dirty || form.get('cep')?.touched)">Campo
                    obrigatório!</small>
                </div>

                <div class="form-group col-md-4">
                  <label for="logradouroEntrega">Logradouro*</label>
                  <input formControlName="logradouro" class="form-control" id="logradouroEntrega"
                    placeholder="Ex: Rua, Avenida">
                  <small class="form-text text-danger"
                    *ngIf="form.get('logradouro')?.invalid && (form.get('logradouro')?.dirty || form.get('logradouro')?.touched)">Campo
                    obrigatório!</small>
                </div>

                <div class="form-group col-md-4">
                  <label for="numeroEntrega">Número*</label>
                  <input formControlName="numero" class="form-control" id="numeroEntrega"
                    placeholder="Número da residência">
                  <small class="form-text text-danger"
                    *ngIf="form.get('numero')?.invalid && (form.get('numero')?.dirty || form.get('numero')?.touched)">Campo
                    obrigatório!</small>
                </div>
              </div>

              <div class="row">
                <div class="form-group col-md-4">
                  <label for="bairroEntrega">Bairro*</label>
                  <input formControlName="bairro" class="form-control" id="bairroEntrega" placeholder="Bairro">
                  <small class="form-text text-danger"
                    *ngIf="form.get('bairro')?.invalid && (form.get('bairro')?.dirty || form.get('bairro')?.touched)">Campo
                    obrigatório!</small>
                </div>

                <div class="form-group col-md-4">
                  <label for="cidadeEntrega">Cidade*</label>
                  <input formControlName="cidade" class="form-control" id="cidadeEntrega" placeholder="Cidade">
                  <small class="form-text text-danger"
                    *ngIf="form.get('cidade')?.invalid && (form.get('cidade')?.dirty || form.get('cidade')?.touched)">Campo
                    obrigatório!</small>
                </div>

                <div class="form-group col-md-4">
                  <label for="estadoEntrega">Estado*</label>
                  <input formControlName="estado" class="form-control" id="estadoEntrega" placeholder="Estado">
                  <small class="form-text text-danger"
                    *ngIf="form.get('estado')?.invalid && (form.get('estado')?.dirty || form.get('estado')?.touched)">Campo
                    obrigatório!</small>
                </div>
              </div>
            </div>
          </div>

          <div class="col-12 shadow-lg p-3 mt-4 mb-4 bg-body rounded cardLogin">
            <h4 class="mb-3">Endereço de Faturamento</h4>
            <div formGroupName="enderecoFaturamento" class="col-md-12">
              <div class="row">
                <div class="form-group col-md-4">
                  <label for="cepFaturamento">CEP*</label>
                  <input formControlName="cep" (input)="buscarCepFaturamento($event)" mask="00000-000" class="form-control" id="cepFaturamento"
                    placeholder="CEP">
                  <small class="form-text text-danger"
                    *ngIf="form.get('cep')?.invalid && (form.get('cep')?.dirty || form.get('cep')?.touched)">Campo
                    obrigatório!</small>
                </div>

                <div class="form-group col-md-4">
                  <label for="logradouroFaturamento">Logradouro*</label>
                  <input formControlName="logradouro" class="form-control" id="logradouroFaturamento"
                    placeholder="Ex: Rua, Avenida">
                  <small class="form-text text-danger"
                    *ngIf="form.get('logradouro')?.invalid && (form.get('logradouro')?.dirty || form.get('logradouro')?.touched)">Campo
                    obrigatório!</small>
                </div>

                <div class="form-group col-md-4">
                  <label for="numeroFaturamento">Número*</label>
                  <input formControlName="numero" class="form-control" id="numeroFaturamento"
                    placeholder="Número da residência">
                  <small class="form-text text-danger"
                    *ngIf="form.get('numero')?.invalid && (form.get('numero')?.dirty || form.get('numero')?.touched)">Campo
                    obrigatório!</small>
                </div>
              </div>

              <div class="row">
                <div class="form-group col-md-4">
                  <label for="bairroFaturamento">Bairro*</label>
                  <input formControlName="bairro" class="form-control" id="bairroFaturamento" placeholder="Bairro">
                  <small class="form-text text-danger"
                    *ngIf="form.get('bairro')?.invalid && (form.get('bairro')?.dirty || form.get('bairro')?.touched)">Campo
                    obrigatório!</small>
                </div>

                <div class="form-group col-md-4">
                  <label for="cidadeFaturamento">Cidade*</label>
                  <input formControlName="cidade" class="form-control" id="cidadeFaturamento" placeholder="Cidade">
                  <small class="form-text text-danger"
                    *ngIf="form.get('cidade')?.invalid && (form.get('cidade')?.dirty || form.get('cidade')?.touched)">Campo
                    obrigatório!</small>
                </div>

                <div class="form-group col-md-4">
                  <label for="estadoFaturamento">Estado*</label>
                  <input formControlName="estado" class="form-control" id="estadoFaturamento" placeholder="Estado">
                  <small class="form-text text-danger"
                    *ngIf="form.get('estado')?.invalid && (form.get('estado')?.dirty || form.get('estado')?.touched)">Campo
                    obrigatório!</small>
                </div>
              </div>
            </div>
          </div>

          <div class="col-12 shadow-lg p-3 mt-4 mb-4 bg-body rounded cardLogin">
            <div class="d-flex justify-content-between mb-3">
              <h4>Contatos</h4>
              <button type="button" class="btn btn-color" (click)="adicionarContato()">Adicionar Contato<i
                  class="ft-plus position-right"></i></button>
            </div>
            <div formGroupName="enderecoFaturamento" class="col-md-12">

              <div class="table-responsive">
                <table class="table table-striped table-hover">
                  <thead class="thead-dark">
                    <tr>
                      <th scope="col">Nome completo</th>
                      <th scope="col">Telefone</th>
                      <th scope="col">Celular</th>
                      <th scope="col">E-mail</th>
                      <th scope="col">Cargo</th>
                      <th scope="col">Área</th>
                      <th scope="col">Ações</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let contato of contatos">
                      <td>{{ contato.nomeCompleto }}</td>
                      <td>{{ contato.telefone }}</td>
                      <td>{{ contato.celular }}</td>
                      <td>{{ contato.email }}</td>
                      <td>{{ contato.cargo }}</td>
                      <td>{{ contato.area }}</td>
                      <td>
                        <button class="btn btn-color btn-sm me-2" (click)="editarContato(contato)">
                          <i class="fas fa-edit"></i> Editar
                        </button>
                        <button class="btn btn-danger btn-sm" (click)="removerContato(contato)">
                          <i class="fas fa-trash-alt"></i> Excluir
                        </button>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>

            </div>
          </div>
        </form>

        <div class="d-flex justify-content-center mt-3">
          <button type="button" class="btn btn-danger me-4" (click)="cancelar()">Cancelar</button>
          <button type="submit" class="btn btn-color" (click)="registrar()">Cadastrar</button>
        </div>
      </div>
    </div>
  </div>
</div>